#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import Gradient kivy_gradient.Gradient

<Test2>:

    Label:
        canvas:
            Color:
                rgba:1,1,1,1
            Line:
                points:0,99,root.width,99
                width:1
            Line:
                points:0,401,root.width,401
                width:1


    Label:
        id: three2
        size: 20,5
        pos: root.right-50, 100
        background_color: 1,1,1,1
        canvas:
            Color:
                rgba:1,1,1,1
            Triangle:
                points:self.pos[0],self.pos[1],self.pos[0]+20,self.pos[1]+60,self.pos[0]+40,self.pos[1]
    Label:
        id:person
        pos:100,100
        size: 50,50
        background_color: 1,1,1,1
        canvas:
            Color:
                rgba:1,1,1,1

            Rectangle:
                size: 50, 50
                pos: self.pos
    Button:
        size:root.width, root.top
        background_color: 1,1,1,0
        on_press: root.jump()

<Test1>:
    BoxLayout:
        orientation: 'vertical'
        Button:
            size_hint: 1,0.2
            text:"Menu"
            background_color: 0,1,1
            on_press: root.manager.current = "menu"
        Spinner:
            id: year
            size_hint: 1,0.1

            text:"Year"
            values: ['2020', '2021', '2022', '2023', '2024', '2025', '2026', '2027', '2028', '2029', '2030', '2031']
            on_text: root.enter_year(year.text)
        BoxLayout:
            layout1:layout1
            BoxLayout:
                id:layout1


<Shedule>:
    BoxLayout:
        orientation: 'vertical'
        Button:
            size_hint: 1,0.2
            text:"Menu"
            background_color: 0,1,1,1
            on_press: root.manager.current = "menu"
        Spinner:
            id: year
            size_hint: 1,0.1

            text:"Year"
            values: ['2020', '2021', '2022', '2023', '2024', '2025', '2026', '2027', '2028', '2029', '2030', '2031']
            on_text: root.enter_year(year.text)
#        Button:
#            size_hint: 1,0.2
#            text:"Show graphics"
#            background_color: 0,1,1
#            on_press:root.show()
        BoxLayout:
            layout:layout
            BoxLayout:
                id:layout


<Menu>:

    Label:
        background_image:"img.png"
        canvas:
#            Rectangle:
#                size:root.width, root.height
#                texture:
#                    Gradient.horizontal(
#                    get_color_from_hex("E91E63"),
#                    get_color_from_hex("FCE4EC"),
#                    get_color_from_hex("2962FF")
#                    )
            Color:
                rgba:224/255, 7/255, 21/255,1

            Line:
                points: root.center_x,root.center_y, root.center_x + root.height/8 ,root.top-root.top/3+root.height/8
                width: 7
            Line:
                points: root.center_x,root.center_y,root.center_x/4+50,root.center_y/2+50
                width: 7
            Line:
                points: root.center_x,root.center_y,root.center_x*1.2+50,root.center_y/2+50
                width: 7
                texture:
                    Gradient.horizontal(
                    get_color_from_hex("E91E63"),
                    get_color_from_hex("FCE4EC"),
                    get_color_from_hex("2962FF")
                    )
            Color:
                rgba: 179/255, 9/255, 164/255,0.8
            Rectangle:
                size: 800, 1000
                source:"img.png"
#                texture:
#                    Gradient.horizontal(
#                    get_color_from_hex("4b1670"),
#                    get_color_from_hex("4b167060"),
#                    get_color_from_hex("4b1670"),
#                    get_color_from_hex("4b167060"),
#                    get_color_from_hex("4b1670")
#                    )
#            Rectangle:
#                pos:100,100
#                size:500,500
#                texture:
#                    Gradient.vertical(
#                    get_color_from_hex("E91E63"),
#
#                    get_color_from_hex("2962FF")
#                    )
        background_image:"img.png"
        RoundedButton:
            pos: root.center_x ,root.top-root.top/3
            text: "Win1"
            size: root.height/4,root.height/4
#            background_color: 1,0,1,1
#            background_normal:''
            on_press: root.manager.current = "window1"

        RoundedButton:
            pos: root.center_x/4,root.center_y/2
            size: 100,100
            text: "Shedule"
#            color: 1,0,1,1
            on_press: root.manager.current = "shedule"
        RoundedButton:
            pos: root.center_x*1.2,root.center_y/2
            size: 100,100
            text: "hour"
#            color: 1,0,1,1
            on_press: root.manager.current = "test1"
        RoundedButton:
            pos: root.center_x*0.5,root.center_y*1.4
            size: 100,100
            text: "HZ"
#            color: 1,0,1,1
            on_press: root.manager.current = "test2"


<Window1>:

    BoxLayout:
        BoxLayout:
            padding: root.top/10
            orientation:"vertical"
            size_hint:0.15,1
            Label:
                text:"Year"
            Label:
                text:"Month"
            Label:
                text:"Value hour"
            Label:
                text:"Salary"
            Widget:
                size_hint:1,5

        BoxLayout:
            padding: root.top/10
            spacing: 15
            orientation: "vertical"
            Spinner:
                id: year
                text:"Year"
                values: ['2020', '2021', '2022', '2023', '2024', '2025', '2026', '2027', '2028', '2029', '2030', '2031']
                on_text: root.spinner_clicked(year.text,'year')
            Spinner:
                id: inp1
                text:"Month"
                values: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec']
                on_text: root.spinner_clicked(inp1.text)

            TextInput:
                id: inp2
                input_filter: 'float'
            TextInput:
                id: inp3
                input_filter: 'float'
            Widget:
                size_hint:1,4
                Label:
                    id: Err_mess
            Button:
                text: "Save"
                on_press: root.save(year, inp1, inp2, inp3)
            Button:
                size_hint: 0.2,1
                text:"Menu"
                background_color: 0,1,1
                on_press: root.manager.current = "menu"

<RoundedButton@Button>:
    background_color: 1,0,1,0
    background_normal: ''
    canvas.before:
        Color:
            rgba: 118/255, 16/255, 227/255,1
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [500]
            texture:
                Gradient.vertical(
                get_color_from_hex("971af0"),
                get_color_from_hex("4b1670"),
                get_color_from_hex("13021f")
                )

